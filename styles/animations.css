/* Glitch animation classes */
.glitch {
  animation: glitch-flicker 0.6s ease-in-out;
}

.glitch-2 {
  animation: glitch-variant 0.8s ease-in-out;
}

.glitch-3 {
  animation: glitch-subtle 0.4s ease-in-out;
}

/* Glitch keyframe animations */
@keyframes glitch-flicker {
  0%, 15%, 17%, 25%, 92%, 100% {
    opacity: 1;
    transform: translateX(0) skew(0deg);
    text-shadow: 1px 1px 0px var(--color-shadow);
  }
  16%, 18%, 24%, 26%, 93%, 95% {
    opacity: calc(1 - var(--glitch-opacity-drop));
    transform: translateX(calc(-3px * var(--glitch-transform-range))) skew(calc(-5deg * var(--glitch-transform-range)));
    text-shadow: calc(2px * var(--glitch-color-intensity)) 0 rgba(255, 0, 64, var(--glitch-color-intensity)), 
               calc(-2px * var(--glitch-color-intensity)) 0 rgba(0, 255, 252, var(--glitch-color-intensity)), 
               0 0 calc(8px * var(--glitch-intensity)) rgba(255, 0, 64, calc(0.8 * var(--glitch-color-intensity)));
  }
  19%, 27%, 94% {
    opacity: calc(0.7 + (1 - var(--glitch-opacity-drop)) * 0.3);
    transform: translateX(calc(2px * var(--glitch-transform-range))) skew(calc(3deg * var(--glitch-transform-range)));
    text-shadow: calc(-1px * var(--glitch-color-intensity)) 0 rgba(255, 0, 64, var(--glitch-color-intensity)), 
               calc(1px * var(--glitch-color-intensity)) 0 rgba(0, 255, 252, var(--glitch-color-intensity)), 
               0 0 calc(5px * var(--glitch-intensity)) rgba(0, 255, 252, calc(0.6 * var(--glitch-color-intensity)));
  }
  28%, 96% {
    opacity: calc(1 - var(--glitch-opacity-drop) - 0.2);
    transform: translateX(calc(-1px * var(--glitch-transform-range))) skew(calc(-2deg * var(--glitch-transform-range)));
    text-shadow: calc(3px * var(--glitch-color-intensity)) 0 rgba(255, 0, 64, var(--glitch-color-intensity)), 
               calc(-3px * var(--glitch-color-intensity)) 0 rgba(0, 255, 252, var(--glitch-color-intensity)), 
               0 0 calc(12px * var(--glitch-intensity)) rgba(255, 0, 64, var(--glitch-color-intensity));
  }
}

@keyframes glitch-variant {
  0%, 12%, 14%, 35%, 37%, 88%, 100% {
    opacity: 1;
    transform: translateX(0) skew(0deg);
    text-shadow: 1px 1px 0px var(--color-shadow);
  }
  13%, 15%, 36%, 38%, 89%, 91% {
    opacity: calc(1 - var(--glitch-opacity-drop) - 0.3);
    transform: translateX(calc(2px * var(--glitch-transform-range))) skew(calc(4deg * var(--glitch-transform-range)));
    text-shadow: calc(-2px * var(--glitch-color-intensity)) 0 rgba(0, 255, 252, var(--glitch-color-intensity)), 
               calc(2px * var(--glitch-color-intensity)) 0 rgba(255, 0, 64, var(--glitch-color-intensity)), 
               0 0 calc(10px * var(--glitch-intensity)) rgba(0, 255, 252, calc(0.9 * var(--glitch-color-intensity)));
  }
  16%, 39%, 90% {
    opacity: calc(0.8 + (1 - var(--glitch-opacity-drop)) * 0.2);
    transform: translateX(calc(-2px * var(--glitch-transform-range))) skew(calc(-3deg * var(--glitch-transform-range)));
    text-shadow: calc(1px * var(--glitch-color-intensity)) 0 rgba(0, 255, 252, var(--glitch-color-intensity)), 
               calc(-1px * var(--glitch-color-intensity)) 0 rgba(255, 0, 64, var(--glitch-color-intensity)), 
               0 0 calc(6px * var(--glitch-intensity)) rgba(255, 0, 64, calc(0.7 * var(--glitch-color-intensity)));
  }
}

@keyframes glitch-subtle {
  0%, 20%, 22%, 78%, 100% {
    opacity: 1;
    transform: translateX(0) skew(0deg);
    text-shadow: 1px 1px 0px var(--color-shadow);
  }
  21%, 79% {
    opacity: calc(1 - var(--glitch-opacity-drop) + 0.3);
    transform: translateX(calc(-1px * var(--glitch-transform-range))) skew(calc(-1deg * var(--glitch-transform-range)));
    text-shadow: calc(1px * var(--glitch-color-intensity)) 0 rgba(255, 0, 64, var(--glitch-color-intensity)), 
               calc(-1px * var(--glitch-color-intensity)) 0 rgba(0, 255, 252, var(--glitch-color-intensity)), 
               0 0 calc(4px * var(--glitch-intensity)) rgba(255, 0, 64, calc(0.5 * var(--glitch-color-intensity)));
  }
}